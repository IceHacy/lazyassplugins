(function(a,r,e,n){"use strict";const i=r.findByStoreName("StatusStore"),s=r.findByStoreName("UserSettingsProtoStore");n.storage.isEnabled??=!1,n.storage.isEnabled&&(s.getUserSettingsProto().status={status:"online",desktop:!0});const d=[e.instead("isOnline",i,function(){return!0}),e.after("getStatus",s,function(t,o){return n.storage.isEnabled&&(o.desktop=!0,o.status="online"),o}),e.after("updateStatus",s,function(t){n.storage.isEnabled=t[0].desktop===!0&&t[0].status==="online"})],u=function(){for(const t of d)t()};return a.onUnload=u,a})({},vendetta.metro,vendetta.patcher,vendetta.plugin);
